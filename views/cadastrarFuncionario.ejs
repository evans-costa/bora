<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-night.min.css"
      rel="stylesheet" />
    <link rel="stylesheet" href="/stylesheets/styles.css" />
    <link rel="stylesheet" href="/stylesheets/style-cadastro.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css" />
    <title>Bora - Cadastro de Funcionários</title>
  </head>

  <body>
    <%- include('./partials/header') %>
    <div id="formulario-completo" class="container ml-1 mt-5">
      <div class="form">
        <form id="form-cadastro-cnpj" action="" method="post">
          <div class="title-form">
            <h1 id="nossa-comunidade">Cadastre sua empresa</h1>

            <div class="form-group">
              <label id="labelNomeFuncionario" for="nome_completo">Nome do funcionário</label>
              <input
                type="text"
                name="nome_completo"
                class="form-control"
                id="nome_completo"
                placeholder="Digite seu nome completo"
                value="<%= locals.oldData ? oldData.nome_completo: null %>" />
              <% if(locals.errors && errors.nome_completo) { %>
              <div class="error-msg"><%=errors.nome_completo.msg%></div>
              <% } %>
            </div>

            <div class="form-group">
              <label id="labelEmailEmpresa" for="email_empresa">E-mail empresarial</label>
              <input
                type="text"
                name="email_empresa"
                class="form-control"
                id="email_empresa"
                placeholder="email@me"
                value="<%= locals.oldData ? oldData.email_empresa: null %>" />
              <% if(locals.errors && errors.email_empresa) { %>
              <div class="error-msg"><%=errors.email_empresa.msg%></div>
              <% } %>
            </div>

            <div class="form-group">
              <label id="labelCnpj" for="cnpj">Número de CNPJ</label>
              <input
                type="text"
                name="cnpj"
                class="form-control"
                id="cnpj"
                placeholder="Digite o CNPJ da empresa"
                value="<%= locals.oldData ? oldData.cnpj: null %>"
                maxlength="18" />
              <% if(locals.errors && errors.cnpj) { %>
              <div class="error-msg"><%=errors.cnpj.msg%></div>
              <% } %>
            </div>

            <div class="form-group">
              <label id="labelNascimento" for="nascimento">Data de Nascimento do Funcionário</label>
              <input
                type="date"
                name="dt_nascimento"
                class="form-control"
                id="nascimento"
                placeholder="xx/xx/xxxx"
                value="<%= locals.oldData ? oldData.dt_nascimento: null %>" />
              <% if(locals.errors && errors.dt_nascimento) { %>
              <div class="error-msg"><%=errors.dt_nascimento.msg%></div>
              <% } %>
            </div>

            <div class="form-group">
              <label id="labelCpfFunc" for="cpf">Número de CPF</label>
              <input
                type="text"
                name="cpf"
                class="form-control"
                id="cpfFunc"
                placeholder="Digite o seu CPF"
                value="<%= locals.oldData ? oldData.cpf: null %>"
                maxlength="14" />
              <% if(locals.errors && errors.cpf) { %>
              <div class="error-msg"><%=errors.cpf.msg%></div>
              <% } %>
            </div>

            <div class="form-group">
              <label id="labelAdmissao" for="admissao">Data de Admissão</label>
              <input
                type="date"
                name="dt_admissao"
                class="form-control"
                id="admissao"
                placeholder="xx/xx/xxxx"
                value="<%= locals.oldData ? oldData.dt_admissao: null %>" />
              <% if(locals.errors && errors.dt_admissao) { %>
              <div class="error-msg"><%=errors.dt_admissao.msg%></div>
              <% } %>
            </div>

            <div class="form-group">
              <label id="labelDepartamento" for="departamentos">Departamento</label>
              <select class="form-select" name="departamento_id" id="departamentos">
                <option value="0" disabled selected>Selecione o departamento</option>
                <% for (let departamento of departamentos) { %>
                <option value="<%=departamento.id%>"><%=departamento.depto_descr%></option>
                <% } %>
              </select>
              <% if(locals.errors && errors.departamento_id) { %>
              <div class="error-msg"><%=errors.departamento_id.msg%></div>
              <% } %>
            </div>

            <div class="form-group">
              <label id="labelCargo" for="cargo">Cargo</label>
              <input
                type="text"
                name="cargo"
                class="form-control"
                id="cargo"
                placeholder="Digite o cargo ocupado atualmente"
                value="<%= locals.oldData ? oldData.cargo: null %>" />
              <% if(locals.errors && errors.cargo) { %>
              <div class="error-msg"><%=errors.cargo.msg%></div>
              <% } %>
            </div>
          </div>

          <div class="finalizar-cadastro mt-5">
            <div class="finalizar-title">
              <h2>Finalizar Cadastro</h2>
            </div>

            <div class="form-group">
              <label id="labelSenha" for="senha">Senha</label>
              <input type="password" name="senha" class="form-control" id="senha" placeholder="Digite sua senha" />
              <% if(locals.errors && errors.senha) { %>
              <div class="error-msg"><%=errors.senha.msg%></div>
              <% } %>
            </div>

            <div class="form-group">
              <label id="labelConfSenha" for="confirmarSenha">Confirme sua Senha</label>
              <input
                type="password"
                name="confirmaSenha"
                class="form-control"
                id="confirmaSenha"
                placeholder="Confirme sua senha" />
            </div>

            <div class="container" id="regras-senha">
              <p>Sua senha deve conter no mínimo:</p>
              <ul>
                <li>Uma letra minúscula</li>
                <li>Uma letra maiúscula</li>
                <li>Um caractere especial</li>
                <li>Um número</li>
                <li>Pelo menos 8 caracteres</li>
              </ul>
            </div>
          </div>

          <div class="termos">
            <input type="checkbox" name="termos" id="termos" value="aceito" />
            <label for="termos"
              >Eu aceito os <a href="#">Termos e condições do Programa BORA</a> e os
              <a href="#">Termos e condições da conta BORA</a></label
            >
          </div>

          <% if(locals.errors && errors.termos) { %>
          <div class="error-msg"><%=errors.termos.msg%></div>
          <% } %>

          <div class="termos">
            <input type="checkbox" name="politica" id="termos" value="aceito" />
            <label for="politica"
              >Autorizo que meus dados sejam tratados de acordo com a
              <a href="#">Política de privacidade</a>
            </label>
          </div>

          <% if(locals.errors && errors.politica) { %>
          <div class="error-msg"><%=errors.politica.msg%></div>
          <% } %>

          <details class="form-control">
            <summary id="sumary-termos">Sobre o tratamento de dados</summary>
            <ul class="tratamento-dados-menu">
              <li>
                Seus dados serão usados para: a gestão contratual e a cobrança do serviço, a gestão da BORA; realizar
                análise de satisfação, auditorias, melhoria do serviço e prevenção de fraude; atender queixas,
                reclamações ou sugestões; o envio de comunicações comerciais, relativas a produtos e serviços da BORA, e
                processos de seleção.
              </li>
              <li>Você tem direito ao acesso, retificação, cancelamento, oposição e limitação .</li>
              <li>Legitimação: execução de contrato. Interesse legítimo. Obrigação legal. Consentimento.</li>
            </ul>
          </details>

          <div class="button-cadastrar d-flex justify-content-center mb-3">
            <button id="submitForm" type="submit" class="btn btn-primary">Cadastrar</button>
          </div>
        </form>
      </div>
    </div>
    <%- include('./partials/footer') %>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"></script>
    <script src="/javascripts/cadastroFuncionario.js"></script>
  </body>
</html>
